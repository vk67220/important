Pods:-

---
apiVersion: v1
kind: Pod                     #it represents creating pods
metadata:                     # information about the pod
  name: vk67220-firstapp
  labels:                     # label is an id for the pod
    app: javawebcontainerapp
spec:                         # container information
  containers:
    - name: javawebcontainer
      image: kastrov/bms
      ports:
        - containerPort: 8080
---

Service:-

---
apiVersion: v1
kind: Service
metadata:
  name: javawebappsvc
spec:
  selector:
    app: javawebapp
  type: NodePort
  ports:
    - port: 80
      targetPort: 8080
---

Here in the below manifest file we are giving nodePort value

---
apiVersion: v1
kind: Pod
metadata:
  name: vk67220-firstapp
  labels:
    app: bmswebapp
spec:
  containers:
    - name: bmswebcontainer
      image: prasad5806/bms:latest
      ports:
        - containerPort: 3000
---

---
apiVersion: v1
kind: Service
metadata:
  name: bmswebappsvc
spec:
  type: NodePort
  selector:
    app: bmswebapp
  ports:
    - port: 80
      targetPort: 3000
      nodePort: 31000
---


Traffic flow

Internet
     |
NodeIP:NodePort(32000)
     |
ServicePort(80)
     |
TargetPort(3000)
     |
containerPort(3000)
     |
Application



Here in the above we are writing manifest files for pods and services so here we are writing only one manifest file for both 

---
apiVersion: v1
kind: Pod
metadata:
  name: vk67220-firstapp
  labels:
    app: bmswebapp
spec:
  containers:
    - name: bmswebcontainer
      image: prasad5806/bms:latest
      ports:
        - containerPort: 3000
---
apiVersion: v1
kind: Service
metadata:
  name: bmswebappsvc
spec:
  type: LoadBalancer
  selector:
    app: bmswebapp
  ports:
    - port: 80
      targetPort: 3000
      nodePort: 31000      (optional nodePort)
---


ClusterIP Service Type

---
apiVersion: v1
kind: Pod
metadata:
  name: vk67220-firstapp
  labels:
    app: bmswebapp
spec:
  containers:
    - name: bmswebcontainer
      image: prasad5806/bms:latest
      ports:
        - containerPort: 3000
---
apiVersion: v1
kind: Service
metadata:
  name: bmswebappsvc
spec:
  type: ClusterIP
  selector:
    app: bmswebapp
  ports:
    - port: 80
      targetPort: 3000
---


NameSpace:-

---
apiVersion: v1
kind: Namespace
metadata:
  name: vk67220-ns
---
apiVersion: v1
kind: Pod
metadata:
  name: vk67220-bmsapp
  namespace: vk67220-ns
  labels:
    app: bmswebapp
spec:
  containers:
    - name: bmswebcontainer
      image: prasad5806/bms:latest
      ports:
        - containerPort: 3000
---
apiVersion: v1
kind: Service
metadata:
  name: bmswebsvc
  namespace: vk67220-ns
spec:
  type: LoadBalancer
  selector:
    app: bmswebapp
  ports:
    - port: 80
      targetPort: 3000
      nodePort: 30777   # optional
---


apiVersion: v1
kind: Namespace
metadata:
  name: springboot-ns
---
apiVersion: v1
kind: Pod
metadata:
  name: springboot-app-pod
  namespace: springboot-ns
  labels:
    app: springboot-app
spec:
  containers:
    - name: springboot-container
      image: <your-springboot-image>:latest
      ports:
        - containerPort: 8080
---
apiVersion: v1
kind: Service
metadata:
  name: springboot-app-svc
  namespace: springboot-ns
spec:
  type: LoadBalancer
  selector:
    app: springboot-app
  ports:
    - port: 80
      targetPort: 8080
      # nodePort: 30080   # optional
---
