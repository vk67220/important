Docker:-

docker is a platform for containerization that packages application and their dependencies into light weight,portable container.

docker container:-

docker container is a running instance of docker image 
it consists everything that need to run an application

code,
runtime,
system tools,
libraries,
configurations

Docker image:

docker image is a read only blue print used to  create docker containers.

DockerFile:-
dockerfile is step by step instruction for creating docker image automatically

dockerfile componenets :-
====================================================================
From:
it is used to setup base image for our container
it indicates base image to run our application

ex:-
FROM ubuntu
FROM tomcat

Run:
it is used to install any packages, or run commands.
run will execute during image creation

ex:-
RUN touch kastro.txt
RUN mkdir kastro


CMD:
cmd is is used to execute linux commands.
cmd will get executed during container creations  

Ex:-

CMD yum install git -y
CMD touch kastro.txt


COPY:- 
it used to copy the files from one location to another location

ADD:- 
it used to copy internet files from one location to another location

WORKDIR:- 
working directory for image or container
it is used to go inside desired directory
Note:-whatever instructions that are defined after WORKDIR command,all those instruction will be executed insdie the WORKDIR path     

LABEL:-
it is used to provide the tags such as authorname,author mail etc

ENV:-
it is used to declare variables which runs insdie the container

EXPOSE:-
it is used to provide port number to container
it is used to expose the container outside the world



PORT MAPPING:-

docker run -itd --name <containername> -p <hostportnumber>:<containerportnumber> <image>:<version.no>

hostport - 
it is port of docker host machine.
we can access the app running inside the container.
host port should be opened in the SG of VM, only then we can access the application on browser

Containerport-
it is port of inside container where application is running
in dockerfile expose port number is consider as containerport 

USER

we can set an username for an image or container
USER<username>

AUTHOR

we can define who is the author of dockerfile
AUTHOR<AuthorName>

ARGS:-

these are the variables that run outside the container

Entrypoint:-

these instruction can be executed while creating the container
these instruction cannot overwritten,but CMD can be overwritten

MAINTAINER:-

it can represents author/maintainer of the dockerfile


docker exec :-if we exit container won't get stop

docker attach :-if we exit container will get stopped

Docker Volumes:-

it is used to store the data permanently.
we use docker volumes to store the data of a docker container
docker volumes is also know as persistent volumes
a volume can be shared between multiple containers
we can create more than 1 volume in single container
volume are created oustide of the container filesystem,they are not deleted when container is stop/deleted 

Docker Network:-

Docker network is used to make communication between multiple containers that are running on same host or different hosts 

Types of Docker networks:
1)Bridge network  -- if 2 containers wants to communication with each other,if they are on same host
2)Overlay network --- if 2 containers want to communication to each other,if they are on different host
3)Host network --- if you want to use host network of ec2 instance,then we will use HOST
4)None network --- if you don't want to expose any application running in the container



DockerFile1
----------------------------------------------------------------------
FROM pyhton :3.10
WORKDIR /app
COPY requirement.txt .
RUN pip install -r requirement.txt
COPY . .
CMD ["python", "app.py]


FROM openjdk:17
WORKDIR /app
COPY target/myapp.jar app.jar
CMD ["java", "-jar", "myapp.jar"]

docker build -t image1 .
docker run -it --name ct1 image1:latest
docker login
docker tag image1 prasad5806/image1:v1
docker push prasad5806/image1:v1



Docker Compose :-

to automate the  creation of  multiple container we use docker compose 
docker compose is used to deploy microservice application 

3 layers 

version
services
volumes/network 

inside each service

image
ports
environment
deploy:resources(limits)
volumes











